@baseUrl = http://localhost:3000

# Not actual ids, I replace them as theyre generated by the post call
@workoutId = 58cf22c9-11b6-45d5-82d9-c4dc790a768b
@entryId1 = 5087516c-a98a-40d5-9e5c-b2d1cd6fbe6c
@entryId2 = 9a676a23-a853-4061-96e4-54d8808e0f7a

###
# List workouts
GET {{baseUrl}}/workouts

###
# Create a workout
POST {{baseUrl}}/workouts
Content-Type: application/json

{
  "title": "Push Day",
  "performedAt": "2025-08-17T10:00:00.000Z",
  "notes": "Chest/Shoulders/Triceps"
}

###
# Create another workout to test listing
POST {{baseUrl}}/workouts
Content-Type: application/json

{
  "title": "Pull Day",
  "performedAt": "2025-08-18T10:00:00.000Z",
  "notes": "Back/Biceps"
}

###
# List workouts again
GET {{baseUrl}}/workouts

###
# Get workout detail
GET {{baseUrl}}/workouts/{{workoutId}}

###
# Update workout
PATCH {{baseUrl}}/workouts/{{workoutId}}
Content-Type: application/json

{
  "title": "Push Day (Updated)",
  "notes": "Incline focus"
}

###
# Create entry #1
POST {{baseUrl}}/entries
Content-Type: application/json

{
  "workoutId": "{{workoutId}}",
  "exercise": "Bench Press",
  "sets": 5,
  "reps": 5,
  "weight": 185,
  "restSeconds": 120
}

###
# Create entry #2
POST {{baseUrl}}/entries
Content-Type: application/json

{
  "workoutId": "{{workoutId}}",
  "exercise": "Overhead Press",
  "sets": 3,
  "reps": 8,
  "weight": 95,
  "restSeconds": 90
}

###
# List all entries
GET {{baseUrl}}/entries

###
# Get entry by id (#1)
GET {{baseUrl}}/entries/{{entryId1}}

###
# Update entry #1 (partial)
PATCH {{baseUrl}}/entries/{{entryId1}}
Content-Type: application/json

{
  "reps": 6,
  "weight": 190
}

###
# Delete entry #2
DELETE {{baseUrl}}/entries/{{entryId2}}

###
# Verify workout detail after deletion
GET {{baseUrl}}/workouts/{{workoutId}}

###
# Negative: creating workout without api key (expect 401/403)
POST {{baseUrl}}/workouts
Content-Type: application/json

{
  "title": "Should Fail",
  "performedAt": "2025-08-17T12:00:00.000Z"
}

###
# Negative: validation error (missing title)
POST {{baseUrl}}/workouts
Content-Type: application/json

{
  "performedAt": "2025-08-17T12:00:00.000Z"
}

###
# Clean up: delete remaining entry #1
DELETE {{baseUrl}}/entries/{{entryId1}}

###
# Clean up: delete workout
DELETE {{baseUrl}}/workouts/{{workoutId}}
